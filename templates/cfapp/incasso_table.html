{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">Elenco degli Incassi</h2>

    <!-- Form per i filtri -->
    <form method="get" class="mb-3">
        <div class="row">
            <div class="col-md-3">
                <label for="id_data" class="form-label">Data</label>
                {{ filter.form.data }}
            </div>
            <div class="col-md-3">
                <label for="id_ricevuta" class="form-label">Ricevuta</label>
                {{ filter.form.ricevuta }}
            </div>
            <div class="col-md-3">
                <label for="id_importo" class="form-label">Importo</label>
                {{ filter.form.importo }}
            </div>
            <div class="col-md-3">
                <button type="submit" class="btn btn-primary">Filtra</button>
                <a href="{% url 'incassi_view' %}" class="btn btn-secondary ms-2">Reset</a>
                <a href="{% url 'incasso_new_view' %}" class="btn btn-primary">Nuovo</a>
            </div>
        </div>
    </form>

    <!-- Tabella incassi -->
    <div class="table-responsive">
        {% load render_table from django_tables2 %}
        {% render_table table %}
    </div>

    <div class="mt-4">
        {% load querystring from django_tables2 %}
        <a href="{% querystring '_export'='csv' %}" class="btn btn-secondary ms-2">Esporta CSV</a>
        <a href="{% querystring '_export'='xlsx' %}" class="btn btn-secondary ms-2">Esporta XLSX</a>
    </div>
</div>
{% endblock %}
